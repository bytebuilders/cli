elements:
  - type: single-step-form
    label:
      text: Release
    show_label: true
    elements:
      - label:
          text: Name
        type: input
        schema:
          $ref: schema#/properties/release/properties/name
      - label:
          text: Namespace
        type: input
        schema:
          $ref: schema#/properties/release/properties/namespace
    schema:
      $ref: schema#/properties/release
  - type: single-step-form
    label:
      text: Registry FQDN
    show_label: true
    switch: true
    elements:
      - label:
          text: Name
        type: input
        schema:
          $ref: schema#/properties/registryFQDN
  - type: single-step-form
    label:
      text: Image Pull Secret
    show_label: true
    elements:
      - type: list-input-form
        element:
          type: input
          label:
            text: Secret
          schema:
            $ref: schema#/properties/imagePullSecrets/properties/items
        schema:
          $ref: schema#/properties/imagePullSecrets
  - type: single-step-form
    label:
      text: Settings
    show_label: true
    elements:
      - type: single-step-form
        label:
          text: Cache
        show_label: true
        elements:
          - type: input
            label:
              text: Persistence Size
            schema:
              $ref: schema#/properties/settings/properties/cache/properties/persistence/properties/size
          - type: reusable-element
            label:
              text: Resources
            show_label: true
            moduleResolver: loadLocalComponent
            chart:
              name: reusable-resources
            schema:
              $ref: schema#/properties/settings/properties/cache/properties/resources
        schema:
          $ref: schema#/properties/settings/properties/cache
      - type: single-step-form
        label:
          text: Database
        show_label: true
        elements:
          - type: input
            label:
              text: Persistence Size
            schema:
              $ref: schema#/properties/settings/properties/db/properties/persistence/properties/size
          - type: reusable-element
            label:
              text: Resources
            show_label: true
            moduleResolver: loadLocalComponent
            chart:
              name: reusable-resources
            schema:
              $ref: schema#/properties/settings/properties/db/properties/resources
        schema:
          $ref: schema#/properties/settings/properties/db
      - type: single-step-form
        label:
          text: Platform
        show_label: true
        elements:
          - type: input
            label:
              text: Domain
            schema:
              $ref: schema#/properties/settings/properties/platform/properties/domain
          - type: switch
            label:
              text: Hosted
            schema:
              $ref: schema#/properties/settings/properties/platform/properties/hosted
        schema:
          $ref: schema#/properties/settings/properties/platform
      - type: single-step-form
        label:
          text: SMTP
        show_label: true
        elements:
          - type: input
            label:
              text: From
            schema:
              $ref: schema#/properties/settings/properties/smtp/properties/from
          - type: input
            label:
              text: Host
            schema:
              $ref: schema#/properties/settings/properties/smtp/properties/host
          - type: input
            lable:
              text: Password
            schema:
              $ref: schema#/properties/settings/properties/smtp/properties/password
          - type: switch
            label:
              text: Send As Plain Text
            schema:
              $ref: schema#/properties/settings/properties/smtp/properties/sendAsPlainText
          - type: switch
            label:
              text: TLS Enable
            schema:
              $ref: schema#/properties/settings/properties/smtp/properties/tlsEnabled
          - type: input
            label:
              text: Username
            schema:
              $ref: schema#/properties/settings/properties/smtp/properties/username
    schema:
      $ref: schema#/properties/settings
  - type: single-step-form
    label:
      text: Infra
    show_label: true
    elements:
      - type: single-step-form
        label:
          text: Cloud Services
        show_label: true
        elements:
          - type: single-step-form
            label:
              text: Auth
            show_label: true
            elements:
              - type: input
                label:
                  text: Service Account JSON
                schema:
                  $ref: schema#/properties/infra/properties/cloudServices/properties/auth/properties/serviceAccountJson
            schema:
              $ref: schema#/properties/infra/properties/cloudServices/properties/auth
          - type: single-step-form
            label:
              text: Kms
            show_label: true
            elements:
              - type: input
                label:
                  text: Master Key URL
                schema:
                  $ref: schema#/properties/infra/properties/cloudServices/properties/kms/properties/masterKeyURL
            schema:
              $ref: schema#/properties/infra/properties/cloudServices/properties/kms
          - type: single-step-form
            label:
              text: Object Store
            show_label: true
            elements:
              - type: input
                label:
                  text: Bucket
                schema:
                  $ref: schema#/properties/infra/properties/cloudServices/properties/objstore/properties/bucket
            schema:
              $ref: schema#/properties/infra/properties/cloudServices/properties/objstore
          - type: input
            label:
              text: Provider
            schema:
              $ref: schema#/properties/infra/properties/cloudServices/properties/provider
        schema:
          $ref: schema#/properties/infra/properties/cloudServices
      - type: single-step-form
        label:
          text: DNS
        show_label: true
        elements:
          - type: single-step-form
            label:
              text: Auth
            elements:
              - type: input
                label:
                  text: Email
                schema:
                  $ref: schema#/properties/infra/properties/dns/properties/auth/properties/email
              - type: input
                label:
                  text: Token
                schema:
                  $ref: schema#/properties/infra/properties/dns/properties/auth/properties/token
            schema:
              $ref: schema#/properties/infra/properties/dns/properties/auth
          - type: input
            label:
              text: Provider
            schema:
              $ref: schema#/properties/infra/properties/dns/properties/provider
        schema:
          $ref: schema#/properties/infra/properties/dns
      - type: single-step-form
        label:
          text: Storage Class
        show_label: true
        elements:
          - type: input
            label:
              text: Name
            schema:
              $ref: schema#/properties/infra/properties/storageClass/properties/name
        schema:
          $ref: schema#/properties/infra/properties/storageClass
      - type: single-step-form
        label:
          text: TLS
        show_label: true
        elements:
          - type: input
            label:
              text: Email
            schema:
              $ref: schema#/properties/infra/properties/tls/properties/email
        schema:
          $ref: schema#/properties/infra/properties/tls
    schema:
      $ref: schema#/properties/infra
  - type: single-step-form
    label:
      text: Ingress
    show_label: true
    elements:
      - type: select
        label:
          text: Expose Via
        options:
          - value: LoadBalancer
            text: LoadBalancer
          - value: HostPort
            text: HostPort
        schema:
          $ref: schema#/properties/ingress/properties/exposeVia
      - type: key-value-input-form
        label:
          text: Node Selector
        isArray: true
        keys:
          label:
            text: Key
        values:
          label:
            text: Value
        schema:
          $ref: schema#/properties/ingress/properties/nodeSelector
      - type: reusable-element
        label:
          text: Resources
        show_label: true
        moduleResolver: loadLocalComponent
        chart:
          name: reusable-resources
        schema:
          $ref: schema#/properties/ingress/properties/resources
    schema:
      $ref: schema#/properties/ingress
  - type: single-step-form
    label:
      text: Nats
    show_label: true
    elements:
      - type: select
        label:
          text: Expose Via
        options:
          - value: LoadBalancer
            text: LoadBalancer
          - value: HostPort
            text: HostPort
        schema:
          $ref: schema#/properties/nats/properties/exposeVia
      - type: key-value-input-form
        label:
          text: Node Selector
        isArray: true
        keys:
          label:
            text: Key
        values:
          label:
            text: Value
        schema:
          $ref: schema#/properties/nats/properties/nodeSelector
      - type: input
        label:
          text: replicas
        schema:
          $ref: schema#/properties/nats/properties/replicas
      - type: reusable-element
        label:
          text: Resources
        show_label: true
        moduleResolver: loadLocalComponent
        chart:
          name: reusable-resources
        schema:
          $ref: schema#/properties/nats/properties/resources
    schema:
      $ref: schema#/properties/nats
type: single-step-form
